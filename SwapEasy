#!/bin/bash
# 🧱 Auto Swapfile Setup Script (16GB)
# ✨ Made by Para777 ✨

set -e

echo "🔄 === Updating system packages ==="
sudo apt update -y >/dev/null 2>&1

echo "🧱 === Creating 16GB swap file ==="
sudo fallocate -l 16G /swapfile

echo "🔒 === Setting correct permissions ==="
sudo chmod 600 /swapfile

echo "⚙️ === Formatting swap space ==="
sudo mkswap /swapfile >/dev/null 2>&1

echo "🚀 === Enabling swap ==="
sudo swapon /swapfile

echo "💾 === Making swap permanent ==="
if ! grep -q '/swapfile none swap sw 0 0' /etc/fstab; then
  echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab >/dev/null
fi

echo "✅ === Swap setup complete! ==="
sudo swapon --show
free -h

echo ""
echo "✨🎉 16GB Swap successfully configured! Script by Para777 ✨"
